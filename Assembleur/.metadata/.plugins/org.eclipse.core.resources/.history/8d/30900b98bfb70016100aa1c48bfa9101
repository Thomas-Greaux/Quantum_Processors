import java.io.FileNotFoundException;
import java.io.PrintWriter;
import java.util.ArrayList;

public class ROM {
	private ArrayList<Byte> memory;
	private final int WIDTH = 16;
	private final int HEIGHT = 16;
	
	public ROM(){
		memory = new ArrayList<>();
		for(int i = 0; i < WIDTH; i++){
			for(int j = 0; j < HEIGHT; j++){
				memory.add((byte) 0);
			}
		}
		System.out.println("Memory size: " + memory.size());
	}
	
	public void print(String file){
		ArrayList<Byte> tmp = new ArrayList<>();
		int k = 0;
		
		for(int i = 0; i < HEIGHT; i++){
			for(int j = 0; j < WIDTH; j++, k++){
				if(tmp.isEmpty()) {
					tmp.add(memory.get(k));
				}
				else{
					if(tmp.get(0) == memory.get(k)){
						tmp.add(memory.get(k));
						//System.out.println("tmp 0: " + tmp.get(0) + "  memory k: " + memory.get(k));
					}
					else{
						print_tmp_file(tmp, file);
						tmp.clear();
						tmp.add(memory.get(k));
					}
				}
				
			}
		}
		
		if (tmp.get(0) == 1) print_tmp(tmp);
		
	}
		
	private void print_tmp(ArrayList<Byte> tmp){
		if(tmp.size() > 3) System.out.print(tmp.size() + "*" + tmp.get(0) + " ");
		else{
			for(int i = 0; i < tmp.size(); i++){
				System.out.print("" + tmp.get(0) + " ");
			}
		}
	}
	
	private void print_tmp_file(ArrayList<Byte> tmp, String file){
		PrintWriter pw = null;
		try {
			pw = new PrintWriter(file);
		} catch (FileNotFoundException e) {
			System.out.println("File not found, printing in terminal :3");
			print_tmp(tmp);
		}
		
		if(tmp.size() > 3) System.out.print(tmp.size() + "*" + tmp.get(0) + " ");
		else{
			for(int i = 0; i < tmp.size(); i++){
				pw.print("" + tmp.get(0) + " ");
			}
		}
	}
	
	public void mod(byte x, int i){
		memory.set(i, x);
	}

}
